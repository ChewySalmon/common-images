<IfModule mod_ssl.c>
	<Virtualhost *:443>
		ServerName __APP_DOMAIN_NAME__
		DocumentRoot /var/www/vhosts/__APP_DOMAIN_NAME__/httpdocs

		## Logging
		ErrorLog "/var/log/httpd/__APP_DOMAIN_NAME__-error_ssl.log"
		ServerSignature Off
		CustomLog "/var/log/httpd/__APP_DOMAIN_NAME__-access_ssl.log" combined

		## Header rules
		## as per http://httpd.apache.org/docs/2.2/mod/mod_headers.html#header
		#Header always set Strict-Transport-Security max-age=31536000
		#Header always set X-Frame-Options "SAMEORIGIN"
		#Header edit Set-Cookie ^(.*)$ $1;Secure
		#Header always set X-Xss-Protection "1; mode=block"
		#Header always set Content-Security-Policy "default-src https: data: 'unsafe-inline' 'unsafe-eval'"
		#Header always set X-Content-Type-Options "nosniff"

        #SSLOptions +FakeBasicAuth +ExportCertData +StrictRequire
        <FilesMatch "\.(cgi|shtml|phtml|php)$">
            SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /usr/lib/cgi-bin>
            SSLOptions +StdEnvVars
        </Directory>
        <Directory />
            Options -Indexes
            AllowOverride None
        </Directory>
        <Directory /var/www/vhosts/__DEST_URL__/httpdocs>
            Options -Indexes
            AllowOverride All
            Require all granted
        </Directory>

		# Guarantee HTTPS for 1 Year including Sub Domains
        Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"

		## SSL Directives
		Include /etc/letsencrypt/options-ssl-apache.conf
        SSLProtocol -all +TLSv1.2
		SSLCertificateFile /etc/letsencrypt/live/__APP_DOMAIN_NAME__/cert.pem
		SSLCertificateKeyFile /etc/letsencrypt/live/__APP_DOMAIN_NAME__/privkey.pem
        SSLCertificateChainFile /etc/letsencrypt/live/__APP_DOMAIN_NAME__/chain.pem
	</Virtualhost>
</IfModule>